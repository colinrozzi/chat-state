okay, so now i have implemented something that will allow us to push head updates over channels so that our external clients can get updates. this is so that in the front end we are waiting forever to get an update.
Now. I have to think about how I am going about this. Right now, the process of going from the generate completion request to actual completion is a single step. So, this actually will not help us at all, unless i push the whole message over the wire.
this is because the wasm call will not release in between the steps, so the call into the component to handle the request will not process until the whole this has finished, defeating the point of the update.

Now, one option is I could just push the whole thing, which I think I am going to do, but I could also change up the logic a little bit and i think it would make the actor a little more resilient so i want to walk through that. right now if the actor fails in the middle of a tool use process and does not get to the point where the model returns a finished thing, the whole conversation is broken and i would have to go in and manually fix it or just delete it. I think it would be better if we could have the actor send itself a message to continue processing in between each call, and we could built the logic to figure out what has to happen next and then to execute that into the send handler. That way, if an actor fails we could restart with the same message chain and simply continue from where we left off. Also, the release would give us a chance for the client to get a request in.
